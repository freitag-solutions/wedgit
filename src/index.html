<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>WedgIt</title>
  <base href="./">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <app-root id="app-root">Loading...</app-root>

  <script type="text/javascript">
    // auto-resize window to dynamically fit its contents
    // NOTE: this in in index.html since this is the only place where the original node.js environment is available
    // TODO: get rid of angular-cli which uses unconfigurable webpack which replaces all node packages with browser shims
    var electron = require('electron').remote;
    var elementResizeEvent = require('element-resize-event'); // https://github.com/KyleAMathews/element-resize-event

    setTimeout(function() {
      document.body.style.overflow = 'hidden'; // hide global scrollbars since offsetWidth/offsetHeight do not include scrollbar width/height somehow..  
      var element = document.getElementById("app-root").children[0];
      elementResizeEvent(element, function() {
        electron.getCurrentWindow().setContentSize(element.offsetWidth, element.offsetHeight, false);
      });
    }, 1000); // TODO: replace with 'onloaded' event or simliar
  </script>
</body>
</html>
